<%- include('includes/header.ejs') %>

<body>
    <%- include('includes/navigation.ejs') %>
    <div class="container">
        <!-- <h3>Hello:
            <%= articles %>
        </h3> -->
        <br>
        <h3 style="padding-bottom: 10px">Welcome to our Blog Engine</h3>
        <%- messages('includes/message', locals) %>
        <% for (let article of articles) { %>
        <div>
            <a href="/article/<%= article._id %>" class="list-group-item clearfix">
                <div class="float-left">

                    <h4 class="list-group-item-heading">
                        <%= article.title %>
                    </h4>

                    <p class="list-group-item-text">Written By:
                        <%= article.author %>
                    </p>
                    <p class="list-group-item-text" style="white-space: nowrap; 
                    width: 850px; 
                    overflow: hidden;
                    text-overflow: ellipsis; ">
                        <%= article.body %>
                    </p>
                </div>
                <div class="float-right">
                    <img src="<%= article.articleImage %>" alt="" class="img-responsive" width="150px" height="116px">
                </div>
            </a>

        </div>
        <% } %>
        <section class="pagination">
            <% if (currentPage !== 1 && previousPage !== 1) { %>
            <a href="?page=1">1</a>
            <% } %>
            <% if (hasPreviousPage) { %>
            <a href="?page=<%= previousPage %>">
                <%= previousPage %></a>
            <% } %>
            <a href="?page=<%= currentPage %>" class="active">
                <%= currentPage %></a>
            <% if (hasNextPage) { %>
            <a href="?page=<%= nextPage %>">
                <%= nextPage %></a>
            <% } %>
            <% if (lastPage !== currentPage && nextPage !== lastPage) { %>
            <a href="?page=<%= lastPage %>">
                <%= lastPage %></a>
            <% } %>
        </section>
    </div>
</body>

</html>